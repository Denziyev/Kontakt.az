@using Kontakt.App.ViewModels;
  @model CategoryViewModel
  <!--Discount Area Start-->
<section class="discountarea">
    <div class=" discount_container">
        <a href="https://kontakt.az/kampaniyani-izle/?id=su0001624&amp;source=kontakt.az&amp;Medium=az_home-banner_banner&amp;campaign=kampaniyani_izle&amp;term=click-tracking_all_az_01.08.2023&amp;content=kampaniyani_izle_page">
            Əsl
            baxılası kampaniya Kontakt-da! 13 avqustadək hissəli alışda 24 ayadək faizsiz təkliflər, nağd alışda
            <span style="color:red">-50%-dək endirimlər var!</span>
        </a>
    </div>
</section>
<!--Discount Area End-->
<!--Page Map area Start-->
<section id="header-breadcrumb">
    <div class="Container">
        <div class="roww">
            <div class="htmlmap">
                <ul>
                    <li><a href="/">Əsas səhifə</a></li>
                    @{
                        var cateitem = Model.Categories[1]?.ParentCategory;
  
                        Dictionary<int,string> maps = new Dictionary<int, string>();

                            maps.Add(cateitem.Id,cateitem.Name);
                    }

                        @if (cateitem.ParentCategoryId != null)
                    {

                            var currentItem = cateitem; // Create a copy of the current item
                        while (currentItem?.ParentCategoryId != null )
                        {
                            currentItem = currentItem.ParentCategory; // Move to the parent category
                            if (currentItem != null)
                            {       
                            maps.Add(currentItem.Id,currentItem.Name);
                            }
                        }
                        
                    }
                        @for (var i = maps.Count - 1; i >= 0; i--)
                        {
                            if (i != 0)
                            {
                            <li> <a href="/category/index/@maps.ElementAt(i).Key">@maps.ElementAt(i).Value</a>  </li>
                            }
                            else
                            {
                            <li> @maps.ElementAt(i).Value </li>
                            }
                        }
                    
                
                </ul>
            </div>
        </div>
    </div>
    <div id="header-breadcrumb-after"></div>
</section>
<!--Page Map Area End-->

<main>

    <section id="category-widget-main" style="background:#f3f3f3;">
        <div class="Container">
            <div class="container__elem container__elem--15">
                <div class="cont__top cont__top--catalog">
                    <div class="catalog__item catalog__item--1">
                        <h1>@Model.Category.Name</h1>
                    </div>
                </div>
                <div class="cont__bottomM">
                    <div class="cont__bottomMTOP">
                        <div class="catalog__item catalog__item--1">
                            <h1>@Model.Category.Name</h1>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="category Container">
            @foreach(var item in Model.Categories)
            {       
            <div class="category-list">
                <a href="/category/index/@item.Id" style="text-decoration:none; width:100%; height:100%">
                    <picture>

                            <img src="~/Assets/assets/images/Categories/@item.Image"  alt="@item.Name" width="70" height="70">
                    </picture>
                    <span>@item.Name</span>
                </a>
            </div>
            }

        </div>
    </section>

</main>